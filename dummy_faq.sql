
USE silverlink;

-- 1. 사용자(관리자/어르신) 데이터 생성 (Foreign Key 연결을 위해 필요)
-- 관리자 (FAQ/Notice 등록자, 문의 답변자)
-- 이미 존재할 수 있으므로 ON DUPLICATE UPDATE 등 처리가 좋지만, 
-- 간단히 INSERT IGNORE나, 그냥 실행하도록 함 (에러 나면 무시 가능)

INSERT IGNORE INTO users (login_id, password_hash, role, status, name, phone, phone_verified, created_at, updated_at)
VALUES ('admin_user', 'dummy_hash', 'ADMIN', 'ACTIVE', '관리자', '010-0000-0000', true, NOW(), NOW());

SET @admin_id = (SELECT user_id FROM users WHERE login_id='admin_user');


-- 2. FAQ 데이터 생성
-- Mappings:
-- POLICY (정책) -> SERVICE
-- HEALTH (돌봄) -> WELFARE (General), MEDICATION (Pill)
-- SYSTEM (이용안내) -> SERVICE

INSERT INTO faqs (category, question, answer_text, view_count, is_active, display_order, created_at, updated_at) VALUES
-- 정책(POLICY) -> SERVICE
('SERVICE', '보호자가 챗봇을 사용하려면 별도 가입이 필요한가요?', 'SilverLink 계정만 있으면 추가 가입 없이 챗봇 기능을 바로 이용하실 수 있습니다.', 0, true, 1, NOW(), NOW()),
('SERVICE', '상담 내용은 어디에 저장되나요?', '보호자와 상담사가 주고받은 Q&A 내용은 안전하게 암호화되어 서버에 저장되며, 서비스 품질 향상과 기록 조회 목적에만 사용됩니다.', 0, true, 2, NOW(), NOW()),
('SERVICE', '상담 기록을 삭제해 달라고 요청할 수 있나요?', '개인정보 삭제 요청 시 관련 Q&A는 화면에서 숨겨지고, 법적 보관 기간을 고려해 순차적으로 완전 삭제 처리됩니다.', 0, true, 3, NOW(), NOW()),
('SERVICE', '여러 명의 보호자가 한 명의 어르신 정보를 함께 볼 수 있나요?', '주 보호자가 초대한 보호자만 권한을 부여받아 해당 어르신의 정보를 함께 열람할 수 있습니다.', 0, true, 4, NOW(), NOW()),
('SERVICE', '상담사가 바뀌면 이전 상담 기록도 새로운 상담사가 볼 수 있나요?', '동일 기관 내에서만 필요한 범위 내에서 이전 상담 기록을 확인할 수 있도록 제한적으로 열람 권한을 부여합니다.', 0, true, 5, NOW(), NOW()),
('SERVICE', '야간이나 주말에도 상담을 신청할 수 있나요?', '상담 신청은 24시간 가능하지만, 실제 상담사 답변 시간은 기관 운영 정책에 따라 평일 근무 시간 위주로 제공됩니다.', 0, true, 6, NOW(), NOW()),
('SERVICE', '챗봇이 제공하는 답변은 의료 진단으로 볼 수 있나요?', '챗봇 답변은 참고용 정보이며, 공식적인 진단이나 처방은 반드시 의료 전문가의 진료를 통해 받아야 합니다.', 0, true, 7, NOW(), NOW()),
('SERVICE', '서비스 이용 요금은 어떻게 되나요?', '기본 챗봇 기능은 무료로 제공되며, 기관 계약에 따라 일부 프리미엄 기능은 별도 요금 정책이 적용될 수 있습니다.', 0, true, 8, NOW(), NOW()),
('SERVICE', '다른 보호자에게 우리 가족 정보가 보일 수 있나요?', '각 보호자 계정은 본인이 권한을 가진 어르신 정보에만 접근할 수 있으며, 다른 가정의 정보는 열람할 수 없습니다.', 0, true, 9, NOW(), NOW()),
('SERVICE', '로그아웃 상태에서도 알림을 받을 수 있나요?', '앱 알림 권한을 허용한 경우, 로그아웃 상태에서도 주요 공지와 상담 완료 알림은 푸시로 수신할 수 있습니다.', 0, true, 10, NOW(), NOW()),

-- 돌봄(HEALTH) -> WELFARE / MEDICATION
('WELFARE', '어르신이 밤에 자주 깨는데 어떻게 도와드리면 좋을까요?', '수면 패턴을 간단히 기록해 주시면, 상담사가 생활 습관과 환경을 점검해 드리고 필요한 경우 진료 연계를 안내해 드립니다.', 0, true, 11, NOW(), NOW()),
('MEDICATION', '복약 알림을 설정할 수 있나요?', '어르신의 복용 약과 시간대를 등록하면 보호자와 어르신에게 복약 시간 알림을 보내 드립니다.', 0, true, 12, NOW(), NOW()),
('WELFARE', '낙상 위험이 있을 때 챗봇이 도와줄 수 있는 게 있나요?', '최근 낙상 여부, 보행 보조도구 사용 여부 등을 물어본 뒤, 기본적인 환경 정리와 주의사항을 안내하고 필요 시 상담 연결을 도와드립니다.', 0, true, 13, NOW(), NOW()),
('WELFARE', '식사량이 줄어든 것 같은데 어떻게 확인하면 좋을까요?', '일주일 단위로 식사량과 체중을 간단히 기록하면, 챗봇이 변화를 요약하고 상담사가 추가 평가를 도와줄 수 있습니다.', 0, true, 14, NOW(), NOW()),
('WELFARE', '어르신이 자꾸 같은 질문을 반복하실 때 어떻게 대응해야 할까요?', '차분한 톤으로 같은 대답을 반복해 드리고, 감정을 먼저 공감해 드리는 것이 좋으며, 증상이 심해지면 인지 기능 평가를 상담사에게 문의해 주세요.', 0, true, 15, NOW(), NOW()),
('WELFARE', '갑자기 통증을 호소하실 때 챗봇을 어떻게 활용할 수 있나요?', '통증 위치, 정도, 시작 시점을 입력하면 긴급성이 높은 증상인지 먼저 분류한 뒤, 즉시 병원 방문이 필요한 상황인지 안내합니다.', 0, true, 16, NOW(), NOW()),
('WELFARE', '운동·재활 관련 간단한 추천을 받을 수 있나요?', '어르신의 이동 가능 정도를 입력하면 안전하게 집에서 할 수 있는 가벼운 스트레칭과 활동을 추천해 드립니다.', 0, true, 17, NOW(), NOW()),
('WELFARE', '수분 섭취량 관리도 가능한가요?', '하루 목표 수분 섭취량을 설정해 두면, 챗봇이 알림과 함께 현재까지의 섭취량을 요약해서 보여줍니다.', 0, true, 18, NOW(), NOW()),
('WELFARE', '기분 변화나 우울감도 기록할 수 있나요?', '보호자가 관찰한 기분 상태를 간단한 체크리스트로 기록하면, 상담사가 정기 상담 시 참고자료로 활용할 수 있습니다.', 0, true, 19, NOW(), NOW()),
('WELFARE', '병원 진료 내용을 기록해 둘 수 있는 기능이 있나요?', '진료 날짜와 간단한 메모를 남기면, 다음 상담 시 챗봇이 관련 기록을 함께 보여줘 상담사가 연속적인 도움을 줄 수 있습니다.', 0, true, 20, NOW(), NOW()),

-- 이용안내(SYSTEM) -> SERVICE
('SERVICE', '회원가입은 어떻게 하나요?', '휴대폰 번호 또는 이메일로 계정을 생성한 뒤, 기관에서 발급한 초대 코드를 입력하면 보호자 계정이 활성화됩니다.', 0, true, 21, NOW(), NOW()),
('SERVICE', '어르신을 여러 명 등록할 수 있나요?', '권한이 부여된 경우, 한 계정에서 여러 어르신을 선택해 각각의 정보와 상담 기록을 확인할 수 있습니다.', 0, true, 22, NOW(), NOW()),
('SERVICE', '비밀번호를 잊어버렸는데 어떻게 해야 하나요?', '로그인 화면의 ‘비밀번호 찾기’를 눌러 인증 절차를 진행하면 새 비밀번호를 설정할 수 있습니다.', 0, true, 23, NOW(), NOW()),
('SERVICE', '알림이 오지 않을 때는 어떻게 확인해야 하나요?', '앱 알림 권한과 기기 설정의 알림 차단 여부를 먼저 확인한 뒤, 그래도 해결되지 않으면 설정 메뉴에서 알림 테스트를 실행해 볼 수 있습니다.', 0, true, 24, NOW(), NOW()),
('SERVICE', '챗봇 답변이 잘리지 않고 전체를 보려면 어떻게 하나요?', '답변 영역 아래의 ‘전체 보기’ 버튼을 누르면 긴 답변도 스크롤로 모두 확인할 수 있습니다.', 0, true, 25, NOW(), NOW()),
('SERVICE', '이전에 나눴던 챗봇 대화를 다시 볼 수 있나요?', '어르신별로 ‘대화 기록’ 메뉴에서 날짜별로 정리된 챗봇 대화를 다시 확인할 수 있습니다.', 0, true, 26, NOW(), NOW()),
('SERVICE', '상담사에게 바로 연결하는 방법은 무엇인가요?', '챗봇 답변 하단의 ‘상담사에게 질문 보내기’ 버튼을 누르면, 현재 내용을 포함해 Q&A 문의가 자동으로 생성됩니다.', 0, true, 27, NOW(), NOW()),
('SERVICE', '기기 변경 시에도 기존 데이터가 유지되나요?', '같은 계정으로 로그인하면, 이전에 저장된 어르신 정보와 Q&A, 챗봇 기록이 그대로 복원됩니다.', 0, true, 28, NOW(), NOW()),
('SERVICE', '한글이 깨져 보이거나 화면이 이상하게 나올 때는 어떻게 해야 하나요?', '앱을 최신 버전으로 업데이트한 뒤에도 문제가 지속되면, 고객센터나 문의하기를 통해 화면 캡처와 함께 제보해 주세요.', 0, true, 29, NOW(), NOW()),
('SERVICE', '로그아웃은 어디서 할 수 있나요?', '우측 상단의 프로필 아이콘을 눌러 ‘설정 > 로그아웃’을 선택하면 즉시 로그아웃됩니다.', 0, true, 30, NOW(), NOW());

INSERT INTO faqs (category, question, answer_text, view_count, is_active, display_order, created_at, updated_at) VALUES
-- 1. 서비스 소개
('SERVICE', 'SilverLink는 어떤 서비스를 제공하나요?', 'SilverLink는 보호자가 담당 어르신의 상태를 쉽게 확인하고, 상담사와 1:1로 상담하거나 AI 챗봇을 통해 돌봄 관련 질문에 답을 받을 수 있는 노인 돌봄 지원 플랫폼입니다.', 0, true, 51, NOW(), NOW()),

-- 2. 보호자 기능
('SERVICE', 'SilverLink를 이용하면 보호자는 무엇을 할 수 있나요?', '보호자는 앱 또는 웹에서 어르신의 기본 상태, 복약·일정 안내, 상담 요청, 과거 상담 기록 열람, 공지사항 확인 등 일상적인 돌봄 관리 기능을 한 곳에서 사용할 수 있습니다.', 0, true, 52, NOW(), NOW()),

-- 3. 차별점
('SERVICE', 'SilverLink 서비스는 요양원이나 방문요양 같은 기존 돌봄 서비스와 어떻게 다른가요?', 'SilverLink는 직접 돌봄을 제공하기보다는, 보호자와 기관·상담사를 디지털로 연결해 소통을 돕고, 정보를 정리해 주며, AI를 활용해 빠른 질의응답과 기록 기반 상담을 지원하는 “돌봄 커뮤니케이션 플랫폼”입니다.', 0, true, 53, NOW(), NOW()),

-- 4. 다중 어르신 관리
('SERVICE', '한 명의 보호자가 여러 어르신을 SilverLink에서 동시에 관리할 수 있나요?', '예, 주 보호자로 등록된 어르신이 여러 명인 경우 계정 하나로 각각의 어르신 정보를 선택해 상태 확인과 상담 요청을 할 수 있습니다.', 0, true, 54, NOW(), NOW()),

-- 5. 상담 진행 방식
('SERVICE', 'SilverLink 상담은 어떤 방식으로 진행되나요?', '보호자가 앱에서 상담 요청(Q&A)을 남기면 담당 상담사가 근무 시간 내에 답변을 남기고, 필요 시 전화나 대면 상담으로 연계될 수 있습니다. 또한 긴급하지 않은 질문은 AI 챗봇이 먼저 안내해 줄 수 있습니다.', 0, true, 55, NOW(), NOW()),

-- 6. 기관 연계 여부
('SERVICE', 'SilverLink를 이용하려면 반드시 기관(요양시설, 재가센터)와 연계되어 있어야 하나요?', '대부분의 기능은 SilverLink와 제휴된 기관을 통해 제공되며, 기관이 보호자에게 초대 링크 또는 코드를 발급한 뒤 계정을 연동하면 서비스를 이용할 수 있습니다.', 0, true, 56, NOW(), NOW()),

-- 7. 병원 진료 기록
('SERVICE', '어르신이 병원 진료를 받았을 때 SilverLink에 기록을 남길 수 있나요?', '보호자와 상담사는 진료일자, 진단명, 주요 소견 등을 메모 형태로 남길 수 있고, 이후 상담이나 챗봇 질의 시 이 기록이 함께 참고되도록 할 수 있습니다.', 0, true, 57, NOW(), NOW()),

-- 8. 의료 서비스 차이점
('SERVICE', 'SilverLink에서 제공하는 정보는 의료 서비스와 어떤 차이가 있나요?', 'SilverLink의 상담 및 AI 답변은 돌봄과 생활 관리에 대한 안내를 제공하며, 의사의 진단이나 처방을 대체하지 않습니다. 긴급하거나 의학적 판단이 필요한 상황에서는 반드시 의료기관 진료를 우선으로 하셔야 합니다.', 0, true, 58, NOW(), NOW()),

-- 9. 문의처
('SERVICE', '서비스 이용 중 궁금한 점이나 불편 사항은 어디에 문의하면 되나요?', '앱 내 ‘문의하기’ 또는 ‘고객센터’ 메뉴를 통해 글을 남기거나, 기관에서 안내한 대표 연락처로 문의하시면 SilverLink 운영팀 또는 담당 기관이 확인 후 안내해 드립니다.', 0, true, 59, NOW(), NOW()),

-- 10. 온보딩 가이드
('SERVICE', 'SilverLink를 처음 사용하는 보호자를 위해 어떤 안내가 제공되나요?', '회원가입 후 첫 로그인 시 기본 기능을 단계별로 설명하는 온보딩 가이드가 제공되며, 메뉴별 사용법은 도움말 센터와 자주 묻는 질문(FAQ)에서 언제든지 다시 확인할 수 있습니다.', 0, true, 60, NOW(), NOW());
